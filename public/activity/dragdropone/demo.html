<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Match Game with Sounds & Timer</title>

  <!-- Bootstrap CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  
  <!-- Custom CSS -->
  <link href="css/styles.css" rel="stylesheet" />
  <link href="css/main.css" rel="stylesheet" />

  <style>
    
    h2 {
      margin-top: 40px;
    }

    .top-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 40px;
    }

    .top-container img {
      width: 80px;
      height: 80px;
      border: 2px solid #ccc;
      border-radius: 10px;
      cursor: grab;
    }

    .drop-container {
      display: flex;
      justify-content: center;
      gap: 50px;
    }

    .drop-box {

      border: 3px dashed #999;
      border-radius: 15px;
      padding: 10px;
      background: #fff;
      max-height: 300px;
    }

    .drop-box h3 {
      margin-bottom: 10px;
    }

    .drop-box img {
      width: 50px;
      height: 50px;
      margin: 5px;
    }
  </style>
</head>
<body class="pattern">

<section class="store noselect py-4">
  <div class="container-fluid">
   <h2 id="mainHeading" class="text-center mb-4">Drop the Word to the Image</h2>

    <div id="instruction-text" class="instruction-text text-center fw-bold mb-4" style="font-size: 1.2em; color: #004080;"></div>

    <!-- Audio Assets -->
    <audio id="introAudio" src="intro.mp3" muted autoplay preload="auto"></audio>
    <audio id="dragAudio" src="drag.mp3" preload="auto"></audio>
    <audio id="dropAudio" src="drop.mp3" preload="auto"></audio>
    <audio id="correctAudio" src="correct.mp3" preload="auto"></audio>
    <audio id="wrongAudio" src="wrong.mp3" preload="auto"></audio>
    <audio id="resultAudio" src="result.mp3" preload="auto"></audio>
    <audio id="backgorundAudio" src="backgorund.mp3" preload="auto"></audio>

    <div id="question-container" class="row rounded justify-content-center mx-0">
    
     <div class="col-md-2 d-flex justify-content-center align-items-center mb-3 mb-md-0">
    <img src="images/boy-1.png" alt="Left Side Image" class="img-fluid rounded float-updown" />
  </div>
      <!-- Matching Rows (Initially Hidden) -->
      <div class="col-md-8 d-none" id="matching-area">
        <div class="matching-rows">
          <div class="row mb-3">
            <div class="col-6">
              <div class="item" data-id="apple">
                Apple <div class="dot left" data-id="apple"></div>
              </div>
            </div>
            <div class="col-6 text-end">
              <div class="item right d-inline-block" data-id="C">
                <div class="dot right" data-id="C"></div>
                <img src="images/img-3.png" alt="Ball" />
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-6">
              <div class="item" data-id="car">
                Car <div class="dot left" data-id="car"></div>
              </div>
            </div>
            <div class="col-6 text-end">
              <div class="item right d-inline-block" data-id="B">
                <div class="dot right" data-id="B"></div>
                <img src="images/img-2.png" alt="Car" />
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-6">
              <div class="item" data-id="ball">
                Ball <div class="dot left" data-id="ball"></div>
              </div>
            </div>
            <div class="col-6 text-end">
              <div class="item right d-inline-block" data-id="A">
                <div class="dot right" data-id="A"></div>
                <img src="images/img-1.png" alt="Apple" />
              </div>
            </div>
          </div>
          
        </div>
      </div>

      <!-- Right Image -->
      <div class="col-md-2 d-flex justify-content-center align-items-center mt-3 mt-md-0">
      <img src="images/girl-1.png" alt="Right Side Image" class="img-fluid rounded float-downup" />
    </div>
    </div>

    <!-- Timer + Button Section (Initially Hidden) -->
    <div class="row mt-4 mb-4 d-none" id="timer-section">
  <div class="col-md-6 text-start d-none" id="timer-column">
    <div id="timer">Time: <span id="timer-count">00:00</span> seconds</div>
  </div>
  <div class="col-md-6 text-end d-none" id="check-btn-column">
    <button id="checkBtn" onclick="checkAnswers()" disabled>Check Answers</button>
  </div>
</div>

  </div>
</section>

<!-- Result Modal -->
<div id="resultPopup" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="restartGame()"  id="close-modal">&times;</span>
    <h2>Results</h2>
    <p id="scoreText"></p>
    <button onclick="restartGame()" class="start-again-btn">Restart</button>
  </div>
</div>

<!-- Canvas Overlays -->
<canvas id="canvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000;"></canvas>
<canvas id="confetti-canvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 99999;"></canvas>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="js/new.js"></script>






<!-- new script -->
 <script>
    const images = document.querySelectorAll('img[draggable="true"]');

    images.forEach(img => {
      img.addEventListener('dragstart', e => {
        e.dataTransfer.setData("text/plain", e.target.src);
        e.dataTransfer.setData("type", e.target.dataset.type);
      });
    });

    const boxes = document.querySelectorAll('.drop-box-1');

    boxes.forEach(box => {
      box.addEventListener('dragover', e => {
        e.preventDefault();
      });

      box.addEventListener('drop', e => {
        e.preventDefault();
        const src = e.dataTransfer.getData("text/plain");
        const type = e.dataTransfer.getData("type");
        const acceptType = box.getAttribute('data-accept');

        if (type === acceptType) {
          const newImg = document.createElement('img');
          newImg.src = src;
          box.appendChild(newImg);

          // Remove from top container
          const draggedImg = [...document.querySelectorAll('#topContainer img')].find(img => img.src === src);
          if (draggedImg) draggedImg.remove();
        } else {
          alert("Wrong box! Try again.");
        }
      });
    });
  </script>
</body>
</html>
